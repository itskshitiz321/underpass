<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Underpass: Replicator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Underpass
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classReplicator.html" title="This class does all the actual work.">Replicator</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em><a class="el" href="classReplicator.html" title="This class does all the actual work.">Replicator</a></em> is a command line utility for updating databases from changesets and change files, and runs as a system daemon. Both change files and changesets need to be applied to the database to stay in sync. Change data can be downloaded from planet.openstreetmap.org every minute, and has to be applied to the databases. Data is processed as a stream, so a large disk for temporary files or much memory isnâ€™t needed.</p>
<p>The primary mode is to monitor the upstream change data for new files, and to apply them. If the timestamp specifed is in the past, the change data files are downloaded continuously until caught up with the current time.</p>
<p>Each data source uses a different thread for multi-core support and better performance. As files are downloaded from the different sources, they are analyzed, and applied to the appropriate database. Most of the work is done by the Underpass library. <em><a class="el" href="classReplicator.html" title="This class does all the actual work.">Replicator</a></em> is the utility program that a uses the library. </p><pre class="fragment">./replicator -h
-h [ --help ]         display help
-s [ --server arg]    database server (defaults to localhost)
-m [ --monitor]       Start monitoring planet
-t [ --timestamp arg] Starting timestamp
-i [ --import ] arg   Initialize pgsnapshot database with datafile
</pre><p> By default, <em>replicator</em> uses the last date entered into the OSM Stats datavase as the starting point. A different timestamp can also be specified using <em>&ndash;timestamp</em>. All data files downloaded can optionally be cached to disk, so furthur processing can use those and save on network time. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
